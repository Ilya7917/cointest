import{j as L,u as v,k as C,d as b,D as y,g as h,h as S,q as $,c as l,a as e,t as n,F as x,p as B,b as D,x as I,v as P,m as T,o as c,y as z,z as A,_ as V}from"./index-BPJ_aKyk.js";const j="/assets/sprite-BbW-irAG.svg",E=L("channels",{state:()=>({channels:null,myChannels:null}),actions:{async fetchChannels(){const a=v(),o=await C.get("https://taptaptap.testcoin.uk/channels",{headers:{"x-api-key":a.getAccessToken}});this.channels=o.data},async startChannel(a){const o=v(),d=await C.post("https://taptaptap.testcoin.uk/initUserChannel",{id:a.id},{headers:{"x-api-key":o.getAccessToken}});return alert(d.data),this.myChannels=d.data.channels,!0}}}),p=a=>(z("data-v-f3b66220"),a=a(),A(),a),F=j+"#chevron-right",M={class:"telegram-channels"},N={class:"earn-title"},O={class:"channels-title"},R={class:"channels-list"},U=["onClick"],q={class:"channel-info"},G={class:"name"},W={class:"channel-action"},H={key:0,class:"reward"},J={key:1,class:"reward"},K=p(()=>e("svg",{class:"arrow"},[e("use",{"xlink:href":F})],-1)),Q={class:"popup-content"},X=p(()=>e("h2",null,"Earn coins",-1)),Y=p(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Z=[Y],ee={class:"popup-body"},se=b({__name:"Channels",setup(a){const o=E(),d=y(),i=h(!1),k=h(!1),t=h({id:0,title:"",reward:0,invite_link:""});S(()=>{o.fetchChannels()});const f=s=>{t.value.id=s.id,t.value.reward=s.reward,t.value.title=s.title,t.value.invite_link=s.invite_link,i.value=!1,k.value=!1,setTimeout(m,100),console.log(i)},w=()=>{const s={id:t.value.id,title:t.value.title,invite_link:t.value.invite_link,reward:0,is_available:!0};o.startChannel(s).then(_=>{_&&(i.value=!1,d.openTelegramLink(t.value.invite_link))})},m=()=>{i.value=!0};function u(){i.value=!1}return(s,_)=>{const g=$("click-outside");return c(),l("div",M,[e("div",N," ğŸ¤‘ "+n(s.$t("earn.name")),1),e("div",O," ğŸ“¢ "+n(s.$t("earn.channels")),1),e("div",R,[(c(!0),l(x,null,B(D(o).channels,r=>(c(),l("div",{key:r.id,onClick:te=>f(r),class:"channel"},[e("div",q,[e("span",G,n(r.title),1)]),e("div",W,[r.is_available?(c(),l("span",H,"ğŸ† "+n(r.reward.toLocaleString()),1)):(c(),l("span",J,"ğŸ’  "+n(s.$t("earn.rewardReached")),1)),K])],8,U))),128))]),i.value?(c(),l("div",{key:0,class:I(["boost-purchase-popup",{visible:i.value}])},[P((c(),l("div",Q,[e("div",{class:"popup-header"},[X,e("button",{class:"close-button",onClick:u},Z)]),e("div",ee,[e("p",null,n(s.$t("earn.selectedChannel")),1),e("p",null,"ğŸ†"+n(t.value.reward),1),e("button",{class:"boost-purchase-button",onClick:w},n(s.$t("earn.startRewardButton")),1)])])),[[g,u]])],2)):T("",!0)])}}}),ne=V(se,[["__scopeId","data-v-f3b66220"]]);export{ne as default};
