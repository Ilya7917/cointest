import{B as L}from"./Balance-B3ItYBdf.js";import{d as j,u as z,r as h,o as N,a as P,b as T,c as R,e,t as r,f as x,g as u,w as p,n as U,F as X,h as y,_ as Y,i as V,Z as D,s as I}from"./index-DA1Vczsw.js";const H={class:"energy-section"},Z={style:{right:"15px",top:"25px",position:"fixed",display:"flex",justifyContent:"space-between"}},O={class:"energy-progress-bar"},q={class:"energy-info"},A={class:"energy-value"},G={class:"bottom-menu"},J={class:"menu-items"},K=j({__name:"BottomMenu",setup(F){const n=z(),b=h(null),i=h(null),d=h(null),_=()=>{if(b.value&&i.value&&d.value){const s=b.value.getBoundingClientRect();i.value.style.bottom=`${window.innerHeight-s.top+20}px`,d.value.style.bottom=`${window.innerHeight-s.top+20}px`}};return N(async()=>{_()}),(s,S)=>{var C,M,$,g;const l=P("router-link");return T(),R(X,null,[e("div",H,[e("div",{ref_key:"withdrawalBalanceRef",ref:d,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Доступно на вывод: "+r((C=x(n).user)==null?void 0:C.withdrawal_balance)+"🍆",1)],512),e("div",Z,[u(l,{class:"menu-item",style:{fontSize:"35px"},to:"/tasks",tag:"button"},{default:p(()=>[y(" 📋 "),e("span",null,r(s.$t("bottomMenu.tasks")),1)]),_:1})]),e("div",{ref_key:"skinsRef",ref:i,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(l,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:p(()=>[y(" 🍆 "),e("span",null,r(s.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:b,class:"energy"},[e("div",O,[e("div",{class:"energy-progress",style:U({width:(((M=x(n).user)==null?void 0:M.energy)??0)/(1e3+((($=x(n).user)==null?void 0:$.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",q,[e("span",A,"⚡"+r((g=x(n).user)==null?void 0:g.energy),1)])],512)]),e("div",G,[e("div",J,[u(l,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:p(()=>[y(" 🏆 "),e("span",null,r(s.$t("bottomMenu.top")),1)]),_:1}),u(l,{class:"menu-item",to:"/channels",tag:"button"},{default:p(()=>[y(" 💰 "),e("span",null,r(s.$t("bottomMenu.earn")),1)]),_:1}),u(l,{class:"menu-item",to:"/market",tag:"button"},{default:p(()=>[y(" 🛒 "),e("span",null,r(s.$t("bottomMenu.market")),1)]),_:1}),u(l,{class:"menu-item",to:"/slots",tag:"button"},{default:p(()=>[y(" 🎰 "),e("span",null,r(s.$t("slots.bottom")),1)]),_:1}),u(l,{class:"menu-item",to:"/posts",tag:"button"},{default:p(()=>[y(" 🌐 "),e("span",null,r(s.$t("bottomMenu.posts")),1)]),_:1}),u(l,{class:"menu-item",to:"/boosts",tag:"button"},{default:p(()=>[y(" 🚀 "),e("span",null,r(s.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),Q=Y(K,[["__scopeId","data-v-b2fcc949"]]),W=["src"],ee=["src"],te=j({__name:"Miner",setup(F){const n=z(),{getCurrentSkin:b}=n,i=h(null),d=h(0);let _;const s=()=>{console.log(`Кількість натискань: ${d.value}`),n.sendMineCoins(d.value),d.value=0},S=()=>{d.value+=1,_&&clearTimeout(_),_=setTimeout(s,300)};N(()=>{window.scrollTo(0,0)}),V(()=>{_&&clearTimeout(_)});const l=h(null),C=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,M=(o,m,f)=>{var k;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${m}px`,t.style.top=`${f}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=o.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const c=document.createElement("img");c.src=E(),c.style.width="35px",c.style.height="35px",c.style.marginLeft="50px",c.style.marginRight="8px",c.classList.add("flying-number"),t.appendChild(c),t.appendChild(a),(k=l.value)==null||k.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function $(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const g=o=>{var B;if(!n.user||!i.value||o.type==="mousedown"&&C())return;let m,f;if($(o)){const w=o;m=w.touches[0].clientX,f=w.touches[0].clientY}else{const w=o;m=w.clientX,f=w.clientY}const t=(B=l.value)==null?void 0:B.getBoundingClientRect(),a=m-((t==null?void 0:t.left)??0),c=f-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var k=1;n.user.is_premium&&(k=2),M(n.user.mine_level*k,a,c),D().impactOccurred("light"),S()}i.value.style.transform="scale(0.98)"},v=()=>{i.value&&(i.value.style.transform="",i.value.style.transform="scale(1)")},E=()=>{let o=I.findIndex(m=>m.id==b);return console.log(`Index is : ${o}`),I[o].skin};return(o,m)=>{var f;return T(),R(X,null,[e("main",null,[u(L),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:l},[(f=x(n).user)!=null&&f.is_premium?(T(),R("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:i,onMousedown:g,onTouchstart:g,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,W)):(T(),R("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:i,onMousedown:g,onTouchstart:g,onMouseup:v,onMouseleave:v,onTouchend:v},null,40,ee))],512)]),u(Q)],64)}}}),oe=Y(te,[["__scopeId","data-v-eedbf224"]]);export{oe as default};
