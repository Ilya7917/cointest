import{u as C,j as $e,k as D,_ as _e,b as s,c as n,p as T,e,t as d,m as y,F as L,y as fe,z as xe,d as De,l as Te,E as Le,r as _,o as Ue,v as pe,G as ye,h as E,g as a,f as he,x as ve,A as j}from"./index-CsdKo7vP.js";import{_ as ge,A as Ne}from"./addIcon-DfWGE30F.js";C();const je=$e("marketStore",{state:()=>({orders:null,myOrders:null}),getters:{},actions:{async createNewOrder(r){console.log(r);const p=C(),c=await D.post("https://taptaptap.testcoin.uk/createOrder",{amount:r.amount,paymentMethods:r.paymentMethods,price:r.price},{headers:{"x-api-key":p.getAccessToken}});return console.log(c),!0},async fetchAllActiveOrders(){const r=C(),p=await D.get("https://taptaptap.testcoin.uk/orders",{headers:{"x-api-key":r.getAccessToken}});console.log(p);for(let c=0;c<p.data.orders.length;c++){const w=p.data.orders[c].PaymentMethods.split(",").map(S=>S.trim());p.data.orders[c].PaymentMethods=w,console.log(w)}return this.orders=p.data.orders,console.log(this.orders),!0},async createOrderMember(r,p){const c=C(),u=await D.post("https://taptaptap.testcoin.uk/createOrderMember",{id:r,owner_id:p},{headers:{"x-api-key":c.getAccessToken}});return console.log(u),!0},async fetchOrderMembers(r){const p=C(),c=await D.get("https://taptaptap.testcoin.uk/getOrderMembers",{headers:{"x-api-key":p.getAccessToken,id:r}});return console.log(c),c.data.members},async deleteMyOrder(r){const p=C(),c=await D.post("https://taptaptap.testcoin.uk/deleteOrder",{id:r},{headers:{"x-api-key":p.getAccessToken}});return console.log(c),!!c.data.sucess},async startOrder(r,p){const c=C(),u=await D.post("https://taptaptap.testcoin.uk/startOrder",{id:r,member_id:p},{headers:{"x-api-key":c.getAccessToken}});return console.log(u),!!u.data.sucess},async finishOrder(r){const p=C(),c=await D.post("https://taptaptap.testcoin.uk/finishOrder",{id:r},{headers:{"x-api-key":p.getAccessToken}});return console.log(c),!!c.data.sucess}}}),ze=r=>(fe("data-v-c2864e6a"),r=r(),xe(),r),Pe=ge+"#chevron-right",Ve={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},Be=["src"],Re={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},qe={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},Fe=["onClick"],Ee={key:0,style:{display:"flex",flexDirection:"column"}},We={key:0,style:{fontSize:"17px"}},Qe={key:1},Ge={key:2},Ye={key:3,style:{display:"flex",flexDirection:"column"}},He={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Je={key:1,style:{fontSize:"20px"}},Ke=ze(()=>e("div",null,[e("svg",{class:"arrow"},[e("use",{"xlink:href":Pe})])],-1)),Xe={__name:"MarketItem",props:{orders:{type:Array,required:!0},myUserId:{type:Number,required:!0},changeVisibleState:{type:Function,required:!0},getPaymentMethodNameBySuffix:{type:Function,required:!0}},setup(r){return(p,c)=>(s(!0),n(L,null,T(r.orders,u=>(s(),n("div",{id:"MyOrders",key:u.ID,onClick:c[0]||(c[0]=()=>{}),class:"channel"},[e("div",Ve,[u.OwnerAvatar!=null&&u.OwnerAvatar!=""?(s(),n("img",{key:0,src:u.OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,Be)):(s(),n("div",Re,"👤")),e("span",qe,d(u.OwnerName),1)]),e("div",{onClick:w=>u.OwnerID!==r.myUserId?r.changeVisibleState("order",u):r.changeVisibleState("me",u)},[u.OwnerID!==r.myUserId?(s(),n("div",Ee,[u.Status=="active"?(s(),n("span",We,"хочет купить "+d(u.Amount)+"🍆 за "+d(u.Price)+"💲",1)):y("",!0),u.Status=="progress"?(s(),n("span",Qe,"сделка в процессе ⏳")):(s(),n("span",Ge,"сделка закрыта ✅")),u.Status!="closed"?(s(),n("div",Ye,[(s(!0),n(L,null,T(u.PaymentMethods,w=>(s(),n("div",He,[e("span",null,d(r.getPaymentMethodNameBySuffix(w)),1)]))),256))])):y("",!0)])):(s(),n("span",Je,d(u.Status=="active"||u.Status=="progress"?`ваша сделка 👑 ${u.Status=="progress"?"⏳":""}`:"сделка закрыта ✅"),1))],8,Fe),Ke]))),128))}},me=_e(Xe,[["__scopeId","data-v-c2864e6a"]]),v=r=>(fe("data-v-621c1940"),r=r(),xe(),r),Ze=ge+"#chevron-right",et={class:"telegram-channels"},tt={key:0,class:"earn-title"},st={key:1,class:"createPostMenu"},nt={style:{marginTop:"20px"}},ot={id:"progressbar"},it={class:"createForm"},at={key:0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},lt=v(()=>e("label",{for:"fname"},"Количество коинов, которое вы планируете купить",-1)),rt={key:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},dt=v(()=>e("label",{for:"fname",style:{fontSize:"18px"}},"Способ оплаты, который будет удобен вам",-1)),ct={class:"sec-center",style:{marginTop:"20px"}},ut=v(()=>e("input",{class:"dropdown",type:"checkbox",id:"dropdown",name:"dropdown"},null,-1)),pt=v(()=>e("label",{class:"for-dropdown",for:"dropdown"},"Добавить способ оплаты",-1)),yt={class:"section-dropdown"},ht=v(()=>e("i",{class:"uil uil-arrow-right"},"💳",-1)),vt=v(()=>e("i",{class:"uil uil-arrow-right"},"💱",-1)),mt=v(()=>e("i",{class:"uil uil-arrow-right"},"💵",-1)),_t={key:0,style:{marginTop:"25px"}},ft={style:{display:"flex"}},xt={style:{width:"200px",height:"50px",border:"3.5px solid gray",textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"}},gt=["onClick"],kt=v(()=>e("span",null,"❌",-1)),wt=[kt],bt={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Ct=v(()=>e("label",{for:"fname"},"За сколько вы хотите приобрести коины? (в USD)",-1)),It={key:0},Ot={key:0,style:{display:"flex",justifyContent:"center"}},St={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},Mt={style:{height:"40vh"}},At={class:"channels-title",style:{display:"flex",justifyContent:"space-between"}},$t=["src"],Dt={key:0,class:"channels-list"},Tt={key:3},Lt={style:{display:"flex",justifyContent:"center"}},Ut={style:{fontSize:"30px",fontWeight:"bold"}},Nt={key:0},jt={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},zt={style:{display:"flex"}},Pt={style:{fontSize:"23px"}},Vt=["src"],Bt={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},Rt={style:{fontSize:"23px"}},qt={style:{fontSize:"23px"}},Ft={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},Et={key:0,style:{display:"flex",justifyContent:"center",marginTop:"40px"}},Wt={key:1},Qt={key:0,style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",marginTop:"30px"}},Gt={key:0},Yt={key:1},Ht={style:{fontSize:"19px"}},Jt={key:2},Kt={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Xt={style:{fontSize:"23px"}},Zt={key:1},es={style:{display:"flex",flexDirection:"column",marginLeft:"5%",marginTop:"20px"}},ts={style:{display:"flex"}},ss={style:{fontSize:"23px"}},ns=["src"],os={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},is={style:{fontSize:"23px"}},as=v(()=>e("span",{style:{fontSize:"23px"}},"Ваши сопсобы оплаты:",-1)),ls={style:{border:"3.5px solid gray",width:"170px",textAlign:"center",marginTop:"7px"}},rs={key:0,class:"orderSettingButtons",style:{display:"flex",justifyContent:"center",marginTop:"20px"}},ds={key:1},cs={key:0,style:{textAlign:"center",marginTop:"20px"}},us={key:0},ps=v(()=>e("span",{style:{fontSize:"19px"}}," Желающие купить коины: ",-1)),ys=["onClick"],hs={class:"channel-info",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},vs=["src"],ms={key:1,style:{height:"30px",width:"30px",borderRadius:"100px",background:"gray",justifyContent:"center",alignItems:"center",display:"flex"}},_s={class:"name",style:{marginLeft:"10px",fontSize:"18px"}},fs=v(()=>e("div",{class:"channel-action"},[e("svg",{class:"arrow"},[e("use",{"xlink:href":Ze})])],-1)),xs={key:1},gs={style:{fontSize:"23px"}},ks={key:1,style:{textAlign:"center",marginTop:"20px"}},ws=v(()=>e("span",{style:{fontSize:"19px",marginLeft:"-15px"}},"ⓘ Запросов на сделку ещё не поступало ⓘ",-1)),bs=[ws],Cs={key:2},Is={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Os={style:{fontSize:"23px"}},Ss={key:0,class:"popup-content"},Ms={class:"popup-header"},As=v(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),$s=[As],Ds={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},Ts={key:1,class:"popup-content"},Ls={class:"popup-header"},Us=v(()=>e("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[e("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),Ns=[Us],js={style:{display:"flex",justifyContent:"center",marginTop:"20px"}},zs=De({__name:"Market",setup(r){Te();const p=Le(),c=_(!1),u=_("member"),w=_(!1),S=C(),h=je(),k=_(0),U=()=>{h.fetchAllActiveOrders().then(l=>{if(l){if(h.orders&&k){const[t,m]=h.orders.reduce(([g,A],O)=>{const V=O.OwnerID==k.value,B=O.CloseWithUserID==k.value;return V||B?A.push(O):O.Status=="active"&&g.push(O),[g,A]},[[],[]]);h.orders=t,h.myOrders=m}w.value=!0}})},R=l=>{h.fetchOrderMembers(l).then(t=>{var m;t&&(x.value=t,((m=x.value)==null?void 0:m.findIndex(A=>A.UserID==k.value))==-1?P.value=!0:P.value=!1)})};Ue(()=>{var l,t;U(),((l=S.user)==null?void 0:l.id)!=null&&(k.value=(t=S.user)==null?void 0:t.id)}),_("visible");const I=_("market"),M=_(0),z=l=>{I.value=l},ke=_(!0),q=[{id:0,isActive:!0,text:"Add amount"},{id:1,isActive:!1,text:"Payment methods"},{id:2,isActive:!1,text:"Add price"}],we=()=>{M.value++,q[M.value].isActive=!0},f=_({amount:0,paymentMethods:[],price:0}),x=_();let o=_(void 0);const be=_("order"),P=_(!1),F=l=>{if(f.value.paymentMethods.findIndex(t=>t==l)==-1)f.value.paymentMethods.push(l);else{j().showAlert("❌ Вы уже добавили этот метод оплаты ❌");return}},Ce=l=>{f.value.paymentMethods.splice(f.value.paymentMethods.findIndex(t=>t==l),1)},N=l=>{switch(l){case"vm":return"Visa/MasterCard 💳";case"ton":return"TON wallet 💱";case"qiwi":return"Qiwi wallet 💵"}},Ie=()=>{var l;f.value.amount<=0&&j().showAlert("❌ Ошибка. Нельзя создать сделку с 0 количеством коинов"),f.value.paymentMethods.length==0&&j().showAlert("❌ Ошибка. Нужно добавить хотя бы 1 метод оплаты"),(((l=S.user)==null?void 0:l.username)==null||S.user.username==null||S.user.username.trim()==="")&&j().showAlert("❌ Ошибка. У вас отсутствует ссылка на профиль, перейдите в настройки telegram и в поле 'имя пользователя' впишите своё имя пользователя. Иначе участники маркета не смогут с вами связаться ❌"),h.createNewOrder(f.value).then(()=>{U(),I.value="market",M.value=0,q.forEach(t=>{t.id!=0&&(t.isActive=!1)})})},W=(l,t)=>{I.value="visible",be.value=l,o.value=t,console.log(o),R(t.ID)},Oe=()=>{var l,t;o!=null&&((l=o.value)==null?void 0:l.ID)!=null&&(P.value=!1,h.createOrderMember((t=o.value)==null?void 0:t.ID,o.value.OwnerID).then(m=>{var g;m&&R(((g=o.value)==null?void 0:g.ID)!==void 0?o.value.ID:0)}))},Se=l=>{h.deleteMyOrder(l).then(t=>{t&&(U(),w.value=!1,z("market"))})},b=_({ID:0,Username:"",MemberId:0}),Q=(l,t,m,g)=>{b.value.ID=l,b.value.Username=t,b.value.MemberId=m,c.value=!0,u.value=g},Me=()=>{h.startOrder(b.value.ID,b.value.MemberId).then(l=>{var t,m;l&&(c.value=!1,U(),R(((t=o.value)==null?void 0:t.ID)!=null?(m=o.value)==null?void 0:m.ID:0),o.value&&(o.value.Status="progress"))})},Ae=()=>{o.value!=null&&h.finishOrder(o.value.ID).then(l=>{l&&(c.value=!1,I.value="market",U())})};return(l,t)=>{var m,g,A,O,V,B,G,Y,H,J,K,X,Z,ee,te,se,ne,oe,ie,ae,le,re,de,ce,ue;return s(),n("div",et,[I.value!="create"?(s(),n("div",tt," 🛒 "+d(l.$t("bottomMenu.market")),1)):y("",!0),I.value==="create"?(s(),n("div",st,[e("button",{class:"mypost-button",style:{marginTop:"10px"},onClick:t[0]||(t[0]=i=>z("market"))},"Назад"),e("div",nt,[e("ul",ot,[(s(),n(L,null,T(q,i=>e("li",{class:ve(i.isActive?"active":"")},d(i.text),3)),64))])]),e("div",it,[M.value===0?(s(),n("div",at,[lt,pe(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":t[1]||(t[1]=i=>f.value.amount=i)},null,512),[[ye,f.value.amount]])])):y("",!0),M.value===1?(s(),n("div",rt,[dt,e("div",ct,[ut,pt,e("div",yt,[e("a",{onClick:t[2]||(t[2]=i=>F("vm"))},[E("Visa/MasterCard "),ht]),e("a",{onClick:t[3]||(t[3]=i=>F("ton"))},[E("TON wallet "),vt]),e("a",{onClick:t[4]||(t[4]=i=>F("qiwi"))},[E("Qiwi wallet"),mt])]),f.value.paymentMethods.length>0?(s(),n("div",_t,[(s(!0),n(L,null,T(f.value.paymentMethods,i=>(s(),n("div",ft,[e("div",xt,[e("span",null,d(N(i)),1)]),e("div",{style:{height:"50px",border:"3.5px solid white",width:"50px",display:"flex",justifyContent:"center",alignItems:"center"},onClick:$=>Ce(i)},wt,8,gt)]))),256))])):y("",!0)])])):y("",!0),M.value===2?(s(),n("div",bt,[Ct,pe(e("input",{type:"number",id:"fname",style:{width:"70%",color:"white"},name:"fname","onUpdate:modelValue":t[5]||(t[5]=i=>f.value.price=i)},null,512),[[ye,f.value.price]]),ke.value?(s(),n("div",It,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:t[6]||(t[6]=i=>Ie())},"Создать")])):y("",!0)])):y("",!0)]),M.value<2?(s(),n("div",Ot,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:we},"Дальше")])):y("",!0)])):y("",!0),I.value=="market"?(s(),n("div",St,[e("div",Mt,[e("div",At,[e("button",{class:"boost-purchase-button",style:{margin:"15px 25px"},onClick:t[7]||(t[7]=()=>{})},"Купить"),e("button",{class:"boost-purchase-button",style:{margin:"15px 25px",opacity:"0.4"},onClick:t[8]||(t[8]=i=>a(j)().showAlert("🛠️ Coming soon"))},"Продать")]),e("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end"},onClick:t[9]||(t[9]=i=>z("create"))},[e("img",{src:a(Ne),alt:"Your Icon",style:{height:"45px",marginRight:"15px"}},null,8,$t)]),w.value?(s(),n("div",Dt,[he(me,{orders:a(h).myOrders!=null?a(h).myOrders:[],myUserId:k.value,changeVisibleState:W,getPaymentMethodNameBySuffix:N},null,8,["orders","myUserId"]),he(me,{orders:a(h).orders!=null?a(h).orders:[],myUserId:k.value,changeVisibleState:W,getPaymentMethodNameBySuffix:N},null,8,["orders","myUserId"])])):y("",!0)])])):y("",!0),I.value=="visible"?(s(),n("div",Tt,[e("button",{class:"boost-purchase-button",style:{width:"40%"},onClick:t[10]||(t[10]=i=>z("market"))},"Назад"),e("div",Lt,[e("span",Ut,d(((m=a(o))==null?void 0:m.OwnerID)!==k.value?"":"Ваш ")+" Ордер №"+d((g=a(o))==null?void 0:g.ID),1)]),((A=a(o))==null?void 0:A.OwnerID)!==k.value?(s(),n("div",Nt,[e("div",jt,[e("div",zt,[e("span",Pt,"Пользователь: "+d((O=a(o))==null?void 0:O.OwnerName),1),((V=a(o))==null?void 0:V.OwnerAvatar)!=null?(s(),n("img",{key:0,src:a(o).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,Vt)):(s(),n("div",Bt,"👤"))]),e("div",null,[e("span",Rt,"Хочет купить "+d((B=a(o))==null?void 0:B.Amount)+"🍆 за "+d((G=a(o))==null?void 0:G.Price)+"💲",1)]),e("div",null,[e("span",qt,"Предпочтительные способы оплаты для "+d((Y=a(o))==null?void 0:Y.OwnerName)+":",1),e("div",null,[(s(!0),n(L,null,T((H=a(o))==null?void 0:H.PaymentMethods,i=>(s(),n("div",Ft,[e("span",null,d(N(i)),1)]))),256))])])]),P.value&&((J=a(o))==null?void 0:J.Status)=="active"?(s(),n("div",Et,[e("button",{class:"boost-purchase-button",style:{width:"70%",backgroundColor:"#3f8b1e"},onClick:t[11]||(t[11]=i=>Oe())},"Продать 🍆 "+d((K=a(o))==null?void 0:K.OwnerName)+"`y",1)])):y("",!0),((X=a(o))==null?void 0:X.Status)!="closed"?(s(),n("div",Wt,[x.value!=null&&((Z=x.value)==null?void 0:Z.findIndex(i=>i.UserID==k.value))!=-1&&((ee=x.value)==null?void 0:ee.length)>0?(s(),n("div",Qt,[((te=a(o))==null?void 0:te.Status)=="active"?(s(),n("span",Gt,"Ваш запрос успешно создан, вы начнёте сделку, когда пользователь "+d((se=a(o))==null?void 0:se.OwnerName)+" примет ваш запрос",1)):(s(),n("div",Yt,[e("span",Ht,d((ne=a(o))==null?void 0:ne.OwnerName)+" принял ваш запрос на сделку",1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:t[12]||(t[12]=i=>{var $;return a(p).openTelegramLink(`https://t.me/${($=a(o))==null?void 0:$.OwnerName}`)})},"Связаться с "+d((oe=a(o))==null?void 0:oe.OwnerName),1),e("button",{class:"boost-purchase-button",style:{width:"70%",marginTop:"30px"},onClick:t[13]||(t[13]=i=>{var $;return a(o)!=null?Q(($=a(o))==null?void 0:$.ID,a(o).OwnerName,a(o).OwnerID,"confirm"):null})},"Отпустить коины")]))])):y("",!0)])):(s(),n("div",Jt,[e("div",Kt,[e("span",Xt,"Вы закрыли сделку с: "+d((ie=a(o))==null?void 0:ie.OwnerName),1)])]))])):(s(),n("div",Zt,[e("div",es,[e("div",ts,[e("span",ss,d((ae=a(o))==null?void 0:ae.OwnerName),1),((le=a(o))==null?void 0:le.OwnerAvatar)!=null?(s(),n("img",{key:0,src:a(o).OwnerAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,ns)):(s(),n("div",os,"👤"))]),e("div",null,[e("span",is,"Собираетесь купить "+d((re=a(o))==null?void 0:re.Amount)+"🍆 за "+d((de=a(o))==null?void 0:de.Price)+"💲",1)]),e("div",null,[as,e("div",null,[(s(!0),n(L,null,T((ce=a(o))==null?void 0:ce.PaymentMethods,i=>(s(),n("div",ls,[e("span",null,d(N(i)),1)]))),256))])]),a(o).Status=="active"?(s(),n("div",rs,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:t[14]||(t[14]=i=>Se(a(o).ID))},"Удалить сделку")])):y("",!0),a(o).Status!="closed"?(s(),n("div",ds,[x.value!=null&&((ue=x.value)==null?void 0:ue.length)>0?(s(),n("div",cs,[a(o).Status=="active"?(s(),n("div",us,[ps,(s(!0),n(L,null,T(x.value,i=>(s(),n("div",{key:i.ID,onClick:$=>Q(i.OrderID,i.Username,i.UserID,"member"),class:"channel",style:{marginLeft:"-10px"}},[e("div",hs,[i.UserAvatar!=null&&i.UserAvatar!==""?(s(),n("img",{key:0,src:i.UserAvatar,style:{height:"30px",borderRadius:"100px"}},null,8,vs)):(s(),n("div",ms,"👤")),e("span",_s,d(i.Username),1)]),fs],8,ys))),128))])):(s(),n("div",xs,[e("span",gs,"Вы торгуете с: "+d(x.value[0].Username),1),e("button",{class:"boost-purchase-button",style:{width:"80%",marginTop:"30px"},onClick:t[15]||(t[15]=i=>a(p).openTelegramLink(`https://t.me/${x.value[0].Username}`))},"Связаться с "+d(x.value[0].Username),1)]))])):(s(),n("div",ks,bs))])):(s(),n("div",Cs,[e("div",Is,[e("span",Os,"Вы закрыли сделку с: "+d(x.value!=null?x.value[0].Username:""),1)])]))])]))])):y("",!0),c.value?(s(),n("div",{key:4,class:ve(["boost-purchase-popup",{visible:c.value}])},[u.value=="member"?(s(),n("div",Ss,[e("div",Ms,[e("h2",null,d(b.value.Username),1),e("button",{class:"close-button",onClick:t[16]||(t[16]=i=>{c.value=!1})},$s)]),e("div",null,[e("span",null,"Отправил вам запрос на сделку, хотите торговать с "+d(b.value.Username)+"?",1)]),e("div",Ds,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:t[17]||(t[17]=i=>Me())},"Начать сделку")])])):(s(),n("div",Ts,[e("div",Ls,[e("h2",null,"Сделка с "+d(b.value.Username),1),e("button",{class:"close-button",onClick:t[18]||(t[18]=i=>{c.value=!1})},Ns)]),e("div",null,[e("span",null,"Нажимая кнопку ниже вы подтверждаете, что получили платёж от "+d(b.value.Username),1)]),e("div",js,[e("button",{class:"boost-purchase-button",style:{width:"60%"},onClick:t[19]||(t[19]=i=>Ae())},"Отпустить коины")])]))],2)):y("",!0)])}}}),Bs=_e(zs,[["__scopeId","data-v-621c1940"]]);export{Bs as default};
