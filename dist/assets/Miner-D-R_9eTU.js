import{B as L}from"./Balance-CKwM0ahp.js";import{d as B,u as I,r as U,o as M,c as x,a as t,b as r,w as f,n as V,e as C,t as p,F as R,f as _,_ as N,g as $,h as D,i as P,Z,s as S}from"./index-XH9-IAlC.js";const j={class:"energy-section"},O={style:{right:"15px",position:"fixed",bottom:"110px"}},q={class:"energy"},A={class:"energy-progress-bar"},G={class:"energy-info"},H={class:"energy-value"},J={class:"bottom-menu"},K={class:"menu-items"},Q=B({__name:"BottomMenu",setup(X){const n=I();return(i,u)=>{var c,h,b;const o=U("router-link");return M(),x(R,null,[t("div",j,[t("div",O,[r(o,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:f(()=>[_(" 🍆 "),t("span",null,p(i.$t("bottomMenu.skins")),1)]),_:1})]),t("div",q,[t("div",A,[t("div",{class:"energy-progress",style:V({width:(((c=C(n).user)==null?void 0:c.energy)??0)/(1e3+(((h=C(n).user)==null?void 0:h.max_energy_level)??0)*500)*100+"%"})},null,4)]),t("div",G,[t("span",H,"⚡"+p((b=C(n).user)==null?void 0:b.energy),1)])])]),t("div",J,[t("div",K,[r(o,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:f(()=>[_(" 🏆 "),t("span",null,p(i.$t("bottomMenu.top")),1)]),_:1}),r(o,{class:"menu-item",to:"/channels",tag:"button"},{default:f(()=>[_(" 💰 "),t("span",null,p(i.$t("bottomMenu.earn")),1)]),_:1}),r(o,{class:"menu-item",to:"/market",tag:"button"},{default:f(()=>[_(" 🛒 "),t("span",null,p(i.$t("bottomMenu.market")),1)]),_:1}),r(o,{class:"menu-item",to:"/slots",tag:"button"},{default:f(()=>[_(" 🎰 "),t("span",null,p(i.$t("slots.bottom")),1)]),_:1}),r(o,{class:"menu-item",to:"/posts",tag:"button"},{default:f(()=>[_(" 🌐 "),t("span",null,p(i.$t("bottomMenu.posts")),1)]),_:1}),r(o,{class:"menu-item",to:"/boosts",tag:"button"},{default:f(()=>[_(" 🚀 "),t("span",null,p(i.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),W=N(Q,[["__scopeId","data-v-13e936d7"]]),ee=["src"],te=["src"],ne=B({__name:"Miner",setup(X){const n=I(),{getCurrentSkin:i}=n,u=$(null),o=$(0);let c;const h=()=>{console.log(`Кількість натискань: ${o.value}`),n.sendMineCoins(o.value),o.value=0},b=()=>{o.value+=1,c&&clearTimeout(c),c=setTimeout(h,300)};D(()=>{window.scrollTo(0,0)}),P(()=>{c&&clearTimeout(c)});const T=$(null),Y=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,z=(s,m,d)=>{var g;const e=document.createElement("div");e.style.position="absolute",e.style.left=`${m}px`,e.style.top=`${d}px`,e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.transform="translate(-50%, -50%)";const l=document.createElement("div");l.textContent=s.toString(),n.user&&n.user.is_premium?l.style.color="#ff9900":l.style.color="white",l.style.userSelect="none",l.style.pointerEvents="none",l.style.fontSize="40px",l.classList.add("flying-number");const a=document.createElement("img");a.src=w(),a.style.width="35px",a.style.height="35px",a.style.marginLeft="50px",a.style.marginRight="8px",a.classList.add("flying-number"),e.appendChild(a),e.appendChild(l),(g=T.value)==null||g.appendChild(e),setTimeout(()=>{e.remove()},1e3)};function F(s){return window.TouchEvent!==void 0?s instanceof TouchEvent:s.touches!==void 0}const k=s=>{var E;if(!n.user||!u.value||s.type==="mousedown"&&Y())return;let m,d;if(F(s)){const v=s;m=v.touches[0].clientX,d=v.touches[0].clientY}else{const v=s;m=v.clientX,d=v.clientY}const e=(E=T.value)==null?void 0:E.getBoundingClientRect(),l=m-((e==null?void 0:e.left)??0),a=d-((e==null?void 0:e.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var g=1;n.user.is_premium&&(g=2),z(n.user.mine_level*g,l,a),Z().impactOccurred("light"),b()}u.value.style.transform="scale(0.98)"},y=()=>{u.value&&(u.value.style.transform="",u.value.style.transform="scale(1)")},w=()=>{let s=S.findIndex(m=>m.id==i);return console.log(`Index is : ${s}`),S[s].skin};return(s,m)=>{var d;return M(),x(R,null,[t("main",null,[r(L),t("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:T},[(d=C(n).user)!=null&&d.is_premium?(M(),x("img",{key:0,src:w(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:u,onMousedown:k,onTouchstart:k,onMouseup:y,onMouseleave:y,onTouchend:y},null,40,ee)):(M(),x("img",{key:1,src:w(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:u,onMousedown:k,onTouchstart:k,onMouseup:y,onMouseleave:y,onTouchend:y},null,40,te))],512)]),r(W)],64)}}}),le=N(ne,[["__scopeId","data-v-eedbf224"]]);export{le as default};
