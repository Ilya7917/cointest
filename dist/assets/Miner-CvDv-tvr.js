import{B as Y}from"./Balance-B2mKM2Ii.js";import{d as z,u as H,r as v,o as F,a as L,b as S,c as T,e,t as u,f as $,g as i,w as c,n as P,F as N,h as p,p as U,i as V,_ as X,j as D,Z,s as j}from"./index-DCVQHWTD.js";const G=w=>(U("data-v-85b76c6c"),w=w(),V(),w),O={class:"energy-section"},q={ref:"fightButton",style:{position:"fixed",width:"30%",left:"35%",bottom:"150px"}},A=G(()=>e("button",{class:"button-19",role:"button"},"⚔️FIGHT",-1)),J={class:"energy-progress-bar"},K={class:"energy-info"},Q={class:"energy-value"},W={class:"bottom-menu"},ee={class:"menu-items"},te=z({__name:"BottomMenu",setup(w){const s=H(),x=v(null),a=v(null),y=v(null),d=v(null),k=v(null),B=()=>{if(x.value&&a.value&&k.value&&y.value&&d.value){const t=x.value.getBoundingClientRect();a.value.style.bottom=`${window.innerHeight-t.top+20}px`,y.value.style.bottom=`${window.innerHeight-t.top+95}px`,d.value.style.bottom=`${window.innerHeight-t.top+60}px`,k.value.style.bottom=`${window.innerHeight-t.top+20}px`}};return F(async()=>{B()}),(t,E)=>{var R,h,f,b;const l=L("router-link");return S(),T(N,null,[e("div",O,[e("div",{ref_key:"withdrawalBalanceRef",ref:k,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Доступно на вывод: "+u((R=$(s).user)==null?void 0:R.withdrawal_balance)+"🐥",1)],512),e("div",{ref_key:"skinsRef",ref:a,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[i(l,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:c(()=>[p(" 🦆 "),e("span",null,u(t.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",q,[i(l,{class:"menu-item",style:{fontSize:"35px"},to:"/fights",tag:"button"},{default:c(()=>[A]),_:1})],512),e("div",{ref_key:"clansRef",ref:y,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[i(l,{class:"menu-item",style:{fontSize:"35px"},to:"/clans",tag:"button"},{default:c(()=>[p(" 🏰 "),e("span",null,u(t.$t("bottomMenu.clans")),1)]),_:1})],512),e("div",{ref_key:"gameRef",ref:d,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[i(l,{class:"menu-item",style:{fontSize:"35px"},to:"/games",tag:"button"},{default:c(()=>[p(" 🎮 "),e("span",null,u(t.$t("bottomMenu.games")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:x,class:"energy"},[e("div",J,[e("div",{class:"energy-progress",style:P({width:(((h=$(s).user)==null?void 0:h.energy)??0)/(1e3+(((f=$(s).user)==null?void 0:f.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",K,[e("span",Q,"⚡"+u((b=$(s).user)==null?void 0:b.energy),1)])],512)]),e("div",W,[e("div",ee,[i(l,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:c(()=>[p(" 🏆 "),e("span",null,u(t.$t("bottomMenu.top")),1)]),_:1}),i(l,{class:"menu-item",to:"/channels",tag:"button"},{default:c(()=>[p(" 📋 "),e("span",null,u(t.$t("bottomMenu.earn")),1)]),_:1}),i(l,{class:"menu-item",to:"/market",tag:"button"},{default:c(()=>[p(" 🛒 "),e("span",null,u(t.$t("bottomMenu.market")),1)]),_:1}),i(l,{class:"menu-item",to:"/slots",tag:"button"},{default:c(()=>[p(" 🎰 "),e("span",null,u(t.$t("slots.bottom")),1)]),_:1}),i(l,{class:"menu-item",to:"/posts",tag:"button"},{default:c(()=>[p(" 🌐 "),e("span",null,u(t.$t("bottomMenu.posts")),1)]),_:1}),i(l,{class:"menu-item",to:"/boosts",tag:"button"},{default:c(()=>[p(" 🚀 "),e("span",null,u(t.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),ne=X(te,[["__scopeId","data-v-85b76c6c"]]),se=["src"],oe=["src"],le=z({__name:"Miner",setup(w){const s=H(),{getCurrentSkin:x}=s,a=v(null),y=v(0);let d;const k=()=>{console.log(`Кількість натискань: ${y.value}`),s.sendMineCoins(y.value),y.value=0},B=()=>{y.value+=1,d&&clearTimeout(d),d=setTimeout(k,300)};F(()=>{window.scrollTo(0,0)}),D(()=>{d&&clearTimeout(d)});const t=v(null),E=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,l=(o,g,_)=>{var C;const n=document.createElement("div");n.style.position="absolute",n.style.left=`${g}px`,n.style.top=`${_}px`,n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.transform="translate(-50%, -50%)";const r=document.createElement("div");r.textContent=o.toString(),s.user&&s.user.is_premium?r.style.color="#ff9900":r.style.color="white",r.style.userSelect="none",r.style.pointerEvents="none",r.style.fontSize="40px",r.classList.add("flying-number");const m=document.createElement("img");m.src=b(),m.style.width="35px",m.style.height="35px",m.style.marginLeft="50px",m.style.marginRight="8px",m.classList.add("flying-number"),n.appendChild(m),n.appendChild(r),(C=t.value)==null||C.appendChild(n),setTimeout(()=>{n.remove()},1e3)};function R(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const h=o=>{var I;if(!s.user||!a.value||o.type==="mousedown"&&E())return;let g,_;if(R(o)){const M=o;g=M.touches[0].clientX,_=M.touches[0].clientY}else{const M=o;g=M.clientX,_=M.clientY}const n=(I=t.value)==null?void 0:I.getBoundingClientRect(),r=g-((n==null?void 0:n.left)??0),m=_-((n==null?void 0:n.top)??0);if(s.user.energy>s.user.mine_level){s.mineCoins();var C=1;s.user.is_premium&&(C=2),l(s.user.mine_level*C,r,m),Z().impactOccurred("light"),B()}a.value.style.transform="scale(0.98)"},f=()=>{a.value&&(a.value.style.transform="",a.value.style.transform="scale(1)")},b=()=>{let o=j.findIndex(g=>g.id==x);return console.log(`Index is : ${o}`),j[o].skin};return(o,g)=>{var _;return S(),T(N,null,[e("main",null,[i(Y),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:t},[(_=$(s).user)!=null&&_.is_premium?(S(),T("img",{key:0,src:b(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:a,onMousedown:h,onTouchstart:h,onMouseup:f,onMouseleave:f,onTouchend:f},null,40,se)):(S(),T("img",{key:1,src:b(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:a,onMousedown:h,onTouchstart:h,onMouseup:f,onMouseleave:f,onTouchend:f},null,40,oe))],512)]),i(ne)],64)}}}),ue=X(le,[["__scopeId","data-v-22613aea"]]);export{ue as default};
