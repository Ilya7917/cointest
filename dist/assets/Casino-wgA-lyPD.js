import{d as P,g as t,C as $,h as F,c as _,n as T,o as h,l as V,u as z,m as w,a as u,e as I,I as D,y as H,z as R,_ as E}from"./index-5f534ywa.js";const S=188,b=P({__name:"Spinner",props:{timer:{},canSpin:{type:Boolean}},emits:["finish"],setup(c,{expose:k,emit:g}){const n=c,i=g,o=t(0),r=t(n.timer),p=Math.floor(Math.random()*3+1);let l;console.log(n.canSpin);const d=()=>Math.floor(Math.random()*9)*S*-1;let e=d();const x=S*p,v=()=>{o.value-=x,r.value-=100},m=()=>{const C=S*8*-1,N=n.timer/100*p;let y=e;for(let B=0;B<N;B++)y-=S,y<C&&(y=0);console.log(y),i("finish",y)},s=()=>{r.value<=0?(clearInterval(l),m()):v()},a=()=>{l&&clearInterval(l),e=d(),o.value=e,r.value=n.timer,console.log(`Position: ${o.value}`),l=setInterval(s,100)};return k({reset:a}),$(()=>n.canSpin,f=>{console.log(f),a()}),F(()=>{}),(f,C)=>(h(),_("div",{style:T({backgroundPosition:"0px "+o.value+"px"}),class:"icons"},null,4))}}),M=c=>(H("data-v-4de09a11"),c=c(),R(),c),U={id:"slots"},j={key:0,autoplay:"true",class:"player",preload:"false"},q=M(()=>u("source",{src:"https://andyhoffman.codes/random-assets/img/slots/winning_slot.wav"},null,-1)),A=[q],G=D('<div style="display:flex;flex-direction:column;align-items:center;margin-top:25%;" data-v-4de09a11><span style="font-size:30px;font-weight:bold;" data-v-4de09a11>Награды: </span><div style="display:flex;flex-direction:column;align-items:center;margin-top:10px;" data-v-4de09a11><div style="display:flex;" data-v-4de09a11><div class="rewardIcon" data-v-4de09a11><span data-v-4de09a11>🍌 3k🍆</span></div><div class="rewardIcon" data-v-4de09a11><span data-v-4de09a11>🥑 10k🍆</span></div><div class="rewardIcon" data-v-4de09a11><span data-v-4de09a11>🍔 25k🍆</span></div></div><div class="rewardIcon" style="margin-top:15px;" data-v-4de09a11><span data-v-4de09a11>🍕 50k🍆</span></div></div></div>',1),J={class:"spinner-container"},K=M(()=>u("div",{class:"gradient-fade"},null,-1)),L={key:1,style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",bottom:"15%",position:"fixed"}},O={key:2,style:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center",bottom:"15%",position:"fixed"}},Q=P({__name:"Casino",setup(c){V();const k=z(),g=t(!0),n=t("single"),i=t(!1),o=t(!1),r=t(null),p=t(null),l=t(null),d=m=>{o.value=null,r.value=null,p.value=null,l.value=null,e.value=[],i.value=!i.value},e=t([]),x=t([-188,0,-752,-1128]),v=m=>{if(e.value.push(m),console.log(e.value),e.value.length===3){const s=e.value[0];if(o.value=e.value.every(a=>a===s),n.value=="single"&&(g.value=!0),o.value){let a=x.value.findIndex(f=>f==e.value[0]);a!=-1&&k.getReward(x.value[a])}n.value=="auto"&&d()}};return(m,s)=>(h(),_("div",U,[o.value?(h(),_("audio",j,A)):w("",!0),G,u("div",J,[I(b,{onFinish:v,timer:1e3,canSpin:i.value,ref_key:"spinner1",ref:r},null,8,["canSpin"]),I(b,{onFinish:v,timer:1400,canSpin:i.value,ref_key:"spinner2",ref:p},null,8,["canSpin"]),I(b,{onFinish:v,timer:2200,canSpin:i.value,ref_key:"spinner3",ref:l},null,8,["canSpin"]),K]),g.value?(h(),_("div",L,[u("button",{class:"mypost-button",style:{marginTop:"30px",width:"60%"},onClick:s[0]||(s[0]=a=>d())},"Крутить(1000🍆) 🎲"),u("button",{class:"mypost-button",style:{marginTop:"30px",width:"60%"},onClick:s[1]||(s[1]=a=>d())},"Авто(1000🍆) 🎰")])):w("",!0),n.value=="auto"?(h(),_("div",O,[u("button",{class:"mypost-button",style:{marginTop:"30px",width:"60%"},onClick:s[2]||(s[2]=a=>n.value="single")},"Стоп")])):w("",!0)]))}}),X=E(Q,[["__scopeId","data-v-4de09a11"]]);export{X as default};
