import{d as A,l as M,u as z,g as l,h as B,c as s,a as e,t as m,b as f,m as c,F as _,p as C,v as w,G as L,H as U,A as j,o as a,x as R,n as V,y as W,z as F,_ as G}from"./index-CmTkM6XS.js";const O="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%20preserveAspectRatio='xMidYMid'%20width='200'%20height='200'%20style='shape-rendering:%20auto;%20display:%20block;'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cg%20transform='translate(80,50)'%3e%3cg%20transform='rotate(0)'%3e%3ccircle%20fill-opacity='1'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.875s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.875s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(71.21320343559643,71.21320343559643)'%3e%3cg%20transform='rotate(45)'%3e%3ccircle%20fill-opacity='0.875'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.75s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.75s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(50,80)'%3e%3cg%20transform='rotate(90)'%3e%3ccircle%20fill-opacity='0.75'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.625s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.625s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(28.786796564403577,71.21320343559643)'%3e%3cg%20transform='rotate(135)'%3e%3ccircle%20fill-opacity='0.625'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.5s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.5s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(20,50.00000000000001)'%3e%3cg%20transform='rotate(180)'%3e%3ccircle%20fill-opacity='0.5'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.375s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.375s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(28.78679656440357,28.786796564403577)'%3e%3cg%20transform='rotate(225)'%3e%3ccircle%20fill-opacity='0.375'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.25s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.25s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(49.99999999999999,20)'%3e%3cg%20transform='rotate(270)'%3e%3ccircle%20fill-opacity='0.25'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='-0.125s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='-0.125s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%20transform='translate(71.21320343559643,28.78679656440357)'%3e%3cg%20transform='rotate(315)'%3e%3ccircle%20fill-opacity='0.125'%20fill='%2327ff00'%20r='6'%20cy='0'%20cx='0'%3e%3canimateTransform%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20values='1.5%201.5;1%201'%20begin='0s'%20type='scale'%20attributeName='transform'%3e%3c/animateTransform%3e%3canimate%20begin='0s'%20values='1;0'%20repeatCount='indefinite'%20dur='1s'%20keyTimes='0;1'%20attributeName='fill-opacity'%3e%3c/animate%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/g%3e%3c!--%20[ldio]%20generated%20by%20https://loading.io%20--%3e%3c/svg%3e",$="/assets/acceptet-C6EQDcHS.svg",E="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='80px'%20height='80px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%2012L12%2012M12%2012L9%2012M12%2012L12%209M12%2012L12%2015'%20stroke='%23878787'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3cpath%20d='M7%203.33782C8.47087%202.48697%2010.1786%202%2012%202C17.5228%202%2022%206.47715%2022%2012C22%2017.5228%2017.5228%2022%2012%2022C6.47715%2022%202%2017.5228%202%2012C2%2010.1786%202.48697%208.47087%203.33782%207'%20stroke='%23878787'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/svg%3e",u=g=>(W("data-v-36b2cc9e"),g=g(),F(),g),H=u(()=>e("div",{class:"Bg"},null,-1)),Y={class:"navMenu"},Q=["src"],q={key:0,class:"createPostMenu"},J={id:"progressbar"},K={class:"createForm"},X={key:0,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Z=u(()=>e("span",{style:{fontWeight:"bold",marginTop:"15px"}},"⚠️ Добавить можно только 1 изображение",-1)),ee={key:1,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},te=u(()=>e("label",{for:"fname"},"Описание(не обязательно)",-1)),se={key:2,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},ae={style:{display:"flex",alignItems:"center"}},ie=u(()=>e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Платный пост (не обязательно)",-1)),ne={class:"checkbox-wrapper-7",style:{marginLeft:"20px"}},oe=u(()=>e("label",{class:"tgl-btn",for:"cb2-7"},null,-1)),ce={key:0,style:{marginTop:"50px",textAlign:"center"}},re=u(()=>e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Цена за разблокировку:",-1)),le=u(()=>e("div",{style:{marginTop:"50px",textAlign:"center"}},[e("span",{style:{fontSize:"15px",fontWeight:"bold"}},"Стоимость создания поста: 5000🍆")],-1)),ue={key:3},de={key:0,style:{display:"flex",flexDirection:"column"}},pe=["src"],me=u(()=>e("span",{style:{fontSize:"17px",fontWeight:"bold",marginTop:"10px"}},"Подождите, мы загружаем ваш пост...",-1)),fe={key:1},ge=["src"],ve={key:0,style:{display:"flex",justifyContent:"center"}},ye={key:1,class:"boosts"},he={class:"post"},_e={class:"ownerData"},xe=["src"],be={style:{fontSize:"25px",marginLeft:"15px"}},ke=["src"],Te={class:"postDescription",style:{height:"50px",alignItems:"center",display:"flex"}},Ce={style:{fontSize:"25px"}},we={key:0,class:"unlock",style:{height:"70px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px"}},Ie={style:{fontSize:"25px"}},Se=u(()=>e("button",{class:"boost-purchase-button"},"Unlock",-1)),Ne={key:1,class:"donations",style:{height:"70px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px"}},Pe={style:{fontSize:"25px"}},De=u(()=>e("button",{class:"boost-purchase-button"},"Donate",-1)),Ae=A({__name:"Posts",setup(g){M();const d=z();d.getBoosts(),l(!1),l(!1);const r=l("posts"),v=l(!1),y=l(!1),o=l({image:null,isPrivate:!1,description:"",price:0}),p=l(0),x=[{id:0,isActive:!0,text:"Add image"},{id:1,isActive:!1,text:"Write description"},{id:2,isActive:!1,text:"Choose Details"}];B(()=>{r.value="posts",d.getPosts(),console.log(r.value)}),l({id:0,price:1e3}),l({id:0});const b=i=>{i!=r.value&&(r.value=i,console.log(i))},I=i=>{const t=i.target.files;t&&t.length>0&&(o.value.image=t[0],y.value=!0)},S=i=>{console.log(1);const t=i.target.value;t&&(o.value.description=t),console.log(o)},N=()=>{p.value!==0&&(y.value=!1),p.value++,x[p.value].isActive=!0},h=l(!1),P=()=>{if(d.user)if(d.user.balance<5e3&&j().showAlert("Недостаточно 🍆 для создания поста"),o.value.isPrivate=v.value,o.value.image!=null){const i={image:o.value.image,isPrivate:o.value.isPrivate,description:o.value.description,price:o.value.price};p.value++,d.createPost(i).then(n=>{n&&setTimeout(()=>{p.value=0,r.value="posts",h.value=!0,h.value=!1,d.getPosts()},2500)})}else console.error("No file selected")},D=i=>`https://taptaptap.testcoin.uk/uploads/${i}`;return(i,n)=>(a(),s(_,null,[H,e("div",Y,[e("button",{class:"mypost-button",onClick:n[0]||(n[0]=t=>b(r.value=="create"?"posts":"myposts"))},m(r.value=="create"?"Posts":"My posts"),1),r.value!=="create"?(a(),s("img",{key:0,src:f(E),alt:"Your Icon",style:{height:"50px"},onClick:n[1]||(n[1]=t=>b("create"))},null,8,Q)):c("",!0)]),r.value==="create"?(a(),s("div",q,[e("div",null,[e("ul",J,[(a(),s(_,null,C(x,t=>e("li",{class:R(t.isActive?"active":"")},m(t.text),3)),64))])]),e("div",K,[p.value===0?(a(),s("div",X,[e("input",{class:"addFile",type:"file",onChange:I},null,32),Z])):c("",!0),p.value===1?(a(),s("div",ee,[te,e("input",{type:"text",id:"fname",onChange:S,name:"fname"},null,32)])):c("",!0),p.value===2?(a(),s("div",se,[e("div",ae,[ie,e("div",ne,[w(e("input",{class:"tgl tgl-ios",id:"cb2-7",type:"checkbox","onUpdate:modelValue":n[2]||(n[2]=t=>v.value=t)},null,512),[[L,v.value]]),oe])]),v.value?(a(),s("div",ce,[re,w(e("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=t=>o.value.price=t)},null,512),[[U,o.value.price]])])):c("",!0),le,e("div",null,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:P},"Создать")])])):c("",!0),p.value===3?(a(),s("div",ue,[h.value?(a(),s("div",fe,[e("img",{src:f($)},null,8,ge)])):(a(),s("div",de,[e("img",{src:f(O)},null,8,pe),me]))])):c("",!0)]),y.value?(a(),s("div",ve,[e("button",{class:"mypost-button",style:{marginTop:"30px"},onClick:N},"Дальше")])):c("",!0)])):c("",!0),r.value==="posts"?(a(),s("div",ye,[(a(!0),s(_,null,C(f(d).posts,t=>{var k,T;return a(),s("div",{key:t.ID,style:{width:"100%"}},[e("div",he,[e("div",_e,[e("img",{src:t.AvatarURL,style:{width:"60px",height:"60px",padding:"5px",borderRadius:"30px"}},null,8,xe),e("span",be,m(t.OwnerName),1)]),e("div",{class:"postImage",style:V({height:"250px",width:"100%",position:"relative",filter:(t.IsPrivate,"blur(0px)")})},[e("img",{src:D(t.ImagePath),style:{height:"inherit",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},null,8,ke)],4),e("div",Te,[e("span",Ce,m(t.Description),1)]),t.IsPrivate&&t.OwnerID!==((k=f(d).user)==null?void 0:k.id)?(a(),s("div",we,[e("span",Ie,"🍆"+m(t.Price),1),Se])):c("",!0),t.OwnerID!==((T=f(d).user)==null?void 0:T.id)?(a(),s("div",Ne,[e("span",Pe,"🍆"+m(t.Donated),1),De])):c("",!0)])])}),128))])):c("",!0)],64))}}),ze=G(Ae,[["__scopeId","data-v-36b2cc9e"]]);export{ze as default};
