import{d as z,l as G,u as M,g as a,q as P,c,e as T,a as s,F as h,p as C,b as d,v as E,t as g,m as y,x as L,s as r,o as n,y as O,z as q,A,_ as F}from"./index-BZLpb_O2.js";import{B as R}from"./Balance-BBbSBDZQ.js";import{h as f}from"./moment-C5S46NFB.js";const Y="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23dadcd9'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20973.1%20973.1'%20xml:space='preserve'%20%3e%3cg%3e%3cpath%20d='M502.29,788.199h-47c-33.1,0-60,26.9-60,60v64.9c0,33.1,26.9,60,60,60h47c33.101,0,60-26.9,60-60v-64.9%20C562.29,815,535.391,788.199,502.29,788.199z'/%3e%3cpath%20d='M170.89,285.8l86.7,10.8c27.5,3.4,53.6-12.4,63.5-38.3c12.5-32.7,29.9-58.5,52.2-77.3c31.601-26.6,70.9-40,117.9-40%20c48.7,0,87.5,12.8,116.3,38.3c28.8,25.6,43.1,56.2,43.1,92.1c0,25.8-8.1,49.4-24.3,70.8c-10.5,13.6-42.8,42.2-96.7,85.9%20c-54,43.7-89.899,83.099-107.899,118.099c-18.4,35.801-24.8,75.5-26.4,115.301c-1.399,34.1,25.8,62.5,60,62.5h49%20c31.2,0,57-23.9,59.8-54.9c2-22.299,5.7-39.199,11.301-50.699c9.399-19.701,33.699-45.701,72.699-78.1%20C723.59,477.8,772.79,428.4,795.891,392c23-36.3,34.6-74.8,34.6-115.5c0-73.5-31.3-138-94-193.4c-62.6-55.4-147-83.1-253-83.1%20c-100.8,0-182.1,27.3-244.1,82c-52.8,46.6-84.9,101.8-96.2,165.5C139.69,266.1,152.39,283.5,170.89,285.8z'/%3e%3c/g%3e%3c/svg%3e",v=u=>(O("data-v-fdffb970"),u=u(),q(),u),$=v(()=>s("div",{class:"Bg"},null,-1)),j={class:"boosts"},W=["onClick"],H=["src","alt"],J={key:1,class:"lockImagePrice"},K=["src"],Q={key:0,style:{color:"#aeaeae",fontSize:"25px",marginTop:"15px"}},X={class:"popup-content"},Z=v(()=>s("h2",null,"New skin",-1)),ee=v(()=>s("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[s("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),se=[ee],oe={class:"popup-body"},te=v(()=>s("p",null,"Unlock new skin?",-1)),ce={class:"boost-desc-hint"},ne={key:0},ie=z({__name:"SkinsStore",setup(u){var x,b,S;const{t:B}=G(),t=M();t.getBoosts();const l=a(!1),p=a(!1);a({coin:0,energy:0,isOpen:!1});const{setSkin:w,getCurrentSkin:D}=t;function k(){if(p.value){p.value=!1;return}l.value=!1}console.log(f((x=t.user)==null?void 0:x.daily_booster_available_at).isBefore(new Date)),console.log((b=t.user)==null?void 0:b.daily_booster_available_at.toString()),console.log(f((S=t.user)==null?void 0:S.daily_booster_available_at).toString()),console.log(new Date),console.log(f().toString());const m=a({id:"multitap",name:"üëÜ Multitap",description:"Increase amount of coins you can earn per one tap",nextLevelSpec:[""],price:1999,next_level:5,level:1,action:B("boosts.upgrade")}),i=a({id:0,price:1e3});let _=D;function U(e){if(t.user){if(console.log(`Clicked skin: ${e}`),r[e].isUnlock)w(e),t.updateUserCurrentSkin(e),_=e;else if(e!=0&&r[e-1].isUnlock){if(1e3*e>t.user.balance){A().showAlert("You don't have enough coins to buy this");return}l.value=!0,p.value=!0,i.value.id=e,i.value.price=1e3*e,console.log(l.value)}}}function I(){t.user&&t.buyNewSkin(i.value.id).then(e=>{e&&(r[i.value.id].isUnlock=!0,w(i.value.id),l.value=!1,p.value=!1)})}function N(e){if(!(e<=0)&&r[e-1].isUnlock)return!0}return(e,le)=>{const V=P("click-outside");return n(),c(h,null,[T(R),$,s("div",j,[(n(!0),c(h,null,C(d(r),o=>(n(),c("div",{key:o.id},[s("div",{class:L({"boost-active":o.id===d(_),boost:o.id!==d(_)}),onClick:ae=>U(o.id)},[o.isUnlock?(n(),c("img",{key:0,src:o.skin,alt:"Skin "+o.id,style:{width:"170px",height:"170px"}},null,8,H)):(n(),c("div",J,[s("img",{src:d(Y),style:{width:"100px",height:"100px"}},null,8,K),N(o.id)?(n(),c("span",Q,g(1e3*o.id)+"üçÜ",1)):y("",!0)]))],10,W)]))),128))]),s("div",{class:L(["boost-purchase-popup",{visible:l.value}])},[E((n(),c("div",X,[s("div",{class:"popup-header"},[Z,s("button",{class:"close-button",onClick:k},se)]),s("div",oe,[te,(n(!0),c(h,null,C(m.value.nextLevelSpec,o=>(n(),c("p",ce,g(o),1))),256)),m.value.price!=0?(n(),c("p",ne,"üçÜ"+g(i.value.price),1)):y("",!0),s("button",{class:"boost-purchase-button",onClick:I},"Buy new skin")])])),[[V,k]])],2)],64)}}}),de=F(ie,[["__scopeId","data-v-fdffb970"]]);export{de as default};
