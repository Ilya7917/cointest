import{d as z,l as G,u as N,g as r,q as B,c as t,e as M,a as o,F as f,p as b,b as C,v as P,t as p,m as S,x as T,o as c,s as v,y as O,z as E,A as q,_ as A}from"./index-CBsvyZ3X.js";import{B as F}from"./Balance-DsrNnOv_.js";import{h as w}from"./moment-C5S46NFB.js";const R="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20fill='%23dadcd9'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%20973.1%20973.1'%20xml:space='preserve'%20%3e%3cg%3e%3cpath%20d='M502.29,788.199h-47c-33.1,0-60,26.9-60,60v64.9c0,33.1,26.9,60,60,60h47c33.101,0,60-26.9,60-60v-64.9%20C562.29,815,535.391,788.199,502.29,788.199z'/%3e%3cpath%20d='M170.89,285.8l86.7,10.8c27.5,3.4,53.6-12.4,63.5-38.3c12.5-32.7,29.9-58.5,52.2-77.3c31.601-26.6,70.9-40,117.9-40%20c48.7,0,87.5,12.8,116.3,38.3c28.8,25.6,43.1,56.2,43.1,92.1c0,25.8-8.1,49.4-24.3,70.8c-10.5,13.6-42.8,42.2-96.7,85.9%20c-54,43.7-89.899,83.099-107.899,118.099c-18.4,35.801-24.8,75.5-26.4,115.301c-1.399,34.1,25.8,62.5,60,62.5h49%20c31.2,0,57-23.9,59.8-54.9c2-22.299,5.7-39.199,11.301-50.699c9.399-19.701,33.699-45.701,72.699-78.1%20C723.59,477.8,772.79,428.4,795.891,392c23-36.3,34.6-74.8,34.6-115.5c0-73.5-31.3-138-94-193.4c-62.6-55.4-147-83.1-253-83.1%20c-100.8,0-182.1,27.3-244.1,82c-52.8,46.6-84.9,101.8-96.2,165.5C139.69,266.1,152.39,283.5,170.89,285.8z'/%3e%3c/g%3e%3c/svg%3e",d=u=>(O("data-v-64f25ce3"),u=u(),E(),u),Y=d(()=>o("div",{class:"Bg"},null,-1)),$={class:"boosts"},j=["onClick"],W=["src","alt"],H={key:1,class:"lockImagePrice"},J=["src"],K={key:0,style:{color:"#aeaeae",fontSize:"25px",marginTop:"15px"}},Q={class:"popup-content"},X=d(()=>o("h2",null,"New skin",-1)),Z=d(()=>o("svg",{class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"16px",height:"16px"},[o("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})],-1)),ee=[Z],se={class:"popup-body"},oe=d(()=>o("p",null,"Unlock new skin?",-1)),te={class:"boost-desc-hint"},ce={key:0},ne=z({__name:"SkinsStore",setup(u){var x,m,k;const{t:L}=G(),s=N();s.getBoosts();const l=r(!1),_=r(!1),a=r({coin:0,energy:0,isOpen:!1}),{setSkin:y}=s;function h(){if(_.value){_.value=!1;return}l.value=!1}console.log(w((x=s.user)==null?void 0:x.daily_booster_available_at).isBefore(new Date)),console.log((m=s.user)==null?void 0:m.daily_booster_available_at.toString()),console.log(w((k=s.user)==null?void 0:k.daily_booster_available_at).toString()),console.log(new Date),console.log(w().toString());const i=r({id:"multitap",name:"üëÜ Multitap",description:"Increase amount of coins you can earn per one tap",nextLevelSpec:[""],price:1999,next_level:5,level:1,action:L("boosts.upgrade")}),g=r({id:0,price:1e3});function D(e){if(!(!s.boosts||!s.user)){if(console.log(`Clicked skin: ${e}`),v[e].isUnlock)y(e);else if(e!=0&&v[e-1].isUnlock){if(1e3*e>s.user.balance){q().showAlert("You don't have enough coins to buy this");return}l.value=!0,_.value=!0,g.value.id=e,g.value.price=1e3*e,console.log(l.value)}}}function I(e){if(!(e<=0)&&v[e-1].isUnlock)return!0}const U=()=>{i.value.id==="daily_lootbox"?(a.value.coin=500,a.value.isOpen=!0,s.openDailyBooster().then(e=>{a.value.coin=(e==null?void 0:e.coin)??0,a.value.energy=(e==null?void 0:e.energy)??0,l.value=!0,s.user&&e&&(s.user.balance+=a.value.coin,s.user.energy+=a.value.energy,s.user.daily_booster_available_at=e.next_at)})):s.purchaseBoost(i.value.id),h()};return(e,ae)=>{const V=B("click-outside");return c(),t(f,null,[M(F),Y,o("div",$,[(c(!0),t(f,null,b(C(v),n=>(c(),t("div",{key:n.id},[o("div",{class:"boost",onClick:le=>D(n.id)},[n.isUnlock?(c(),t("img",{key:0,src:n.skin,alt:"Skin "+n.id,style:{width:"170px",height:"170px"}},null,8,W)):(c(),t("div",H,[o("img",{src:C(R),style:{width:"100px",height:"100px"}},null,8,J),I(n.id)?(c(),t("span",K,p(1e3*n.id)+"üçÜ",1)):S("",!0)]))],8,j)]))),128))]),o("div",{class:T(["boost-purchase-popup",{visible:l.value}])},[P((c(),t("div",Q,[o("div",{class:"popup-header"},[X,o("button",{class:"close-button",onClick:h},ee)]),o("div",se,[oe,(c(!0),t(f,null,b(i.value.nextLevelSpec,n=>(c(),t("p",te,p(n),1))),256)),i.value.price!=0?(c(),t("p",ce,"üçÜ"+p(g.value.price),1)):S("",!0),o("button",{class:"boost-purchase-button",onClick:U},p(i.value.action),1)])])),[[V,h]])],2)],64)}}}),pe=A(ne,[["__scopeId","data-v-64f25ce3"]]);export{pe as default};
