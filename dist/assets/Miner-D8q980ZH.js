import{B as H}from"./Balance-DZ5h1ARY.js";import{d as j,u as z,r as h,o as N,a as L,b as T,c as R,e,t as r,f as x,g as u,w as _,n as P,F as X,h as g,_ as Y,i as U,Z as V,s as I}from"./index-DYJA-vg8.js";const D={class:"energy-section"},Z={class:"energy-progress-bar"},O={class:"energy-info"},q={class:"energy-value"},A={class:"bottom-menu"},G={class:"menu-items"},J=j({__name:"BottomMenu",setup(F){const n=z(),b=h(null),l=h(null),f=h(null),c=h(null),E=()=>{if(b.value&&l.value&&c.value&&f.value){const s=b.value.getBoundingClientRect();l.value.style.bottom=`${window.innerHeight-s.top+20}px`,f.value.style.bottom=`${window.innerHeight-s.top+95}px`,c.value.style.bottom=`${window.innerHeight-s.top+20}px`}};return N(async()=>{E()}),(s,C)=>{var M,$,v,d;const i=L("router-link");return T(),R(X,null,[e("div",D,[e("div",{ref_key:"withdrawalBalanceRef",ref:c,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[e("span",null,"Доступно на вывод: "+r((M=x(n).user)==null?void 0:M.withdrawal_balance)+"🍆",1)],512),e("div",{ref_key:"skinsRef",ref:l,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:_(()=>[g(" 🍆 "),e("span",null,r(s.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"clansRef",ref:f,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/clans",tag:"button"},{default:_(()=>[g(" 🏰 "),e("span",null,r(s.$t("bottomMenu.clans")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:b,class:"energy"},[e("div",Z,[e("div",{class:"energy-progress",style:P({width:((($=x(n).user)==null?void 0:$.energy)??0)/(1e3+(((v=x(n).user)==null?void 0:v.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",O,[e("span",q,"⚡"+r((d=x(n).user)==null?void 0:d.energy),1)])],512)]),e("div",A,[e("div",G,[u(i,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:_(()=>[g(" 🏆 "),e("span",null,r(s.$t("bottomMenu.top")),1)]),_:1}),u(i,{class:"menu-item",to:"/channels",tag:"button"},{default:_(()=>[g(" 📋 "),e("span",null,r(s.$t("bottomMenu.earn")),1)]),_:1}),u(i,{class:"menu-item",to:"/market",tag:"button"},{default:_(()=>[g(" 🛒 "),e("span",null,r(s.$t("bottomMenu.market")),1)]),_:1}),u(i,{class:"menu-item",to:"/slots",tag:"button"},{default:_(()=>[g(" 🎰 "),e("span",null,r(s.$t("slots.bottom")),1)]),_:1}),u(i,{class:"menu-item",to:"/posts",tag:"button"},{default:_(()=>[g(" 🌐 "),e("span",null,r(s.$t("bottomMenu.posts")),1)]),_:1}),u(i,{class:"menu-item",to:"/boosts",tag:"button"},{default:_(()=>[g(" 🚀 "),e("span",null,r(s.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),K=Y(J,[["__scopeId","data-v-3b01c3c0"]]),Q=["src"],W=["src"],ee=j({__name:"Miner",setup(F){const n=z(),{getCurrentSkin:b}=n,l=h(null),f=h(0);let c;const E=()=>{console.log(`Кількість натискань: ${f.value}`),n.sendMineCoins(f.value),f.value=0},s=()=>{f.value+=1,c&&clearTimeout(c),c=setTimeout(E,300)};N(()=>{window.scrollTo(0,0)}),U(()=>{c&&clearTimeout(c)});const C=h(null),i=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,M=(o,p,y)=>{var w;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${p}px`,t.style.top=`${y}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=o.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const m=document.createElement("img");m.src=S(),m.style.width="35px",m.style.height="35px",m.style.marginLeft="50px",m.style.marginRight="8px",m.classList.add("flying-number"),t.appendChild(m),t.appendChild(a),(w=C.value)==null||w.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function $(o){return window.TouchEvent!==void 0?o instanceof TouchEvent:o.touches!==void 0}const v=o=>{var B;if(!n.user||!l.value||o.type==="mousedown"&&i())return;let p,y;if($(o)){const k=o;p=k.touches[0].clientX,y=k.touches[0].clientY}else{const k=o;p=k.clientX,y=k.clientY}const t=(B=C.value)==null?void 0:B.getBoundingClientRect(),a=p-((t==null?void 0:t.left)??0),m=y-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var w=1;n.user.is_premium&&(w=2),M(n.user.mine_level*w,a,m),V().impactOccurred("light"),s()}l.value.style.transform="scale(0.98)"},d=()=>{l.value&&(l.value.style.transform="",l.value.style.transform="scale(1)")},S=()=>{let o=I.findIndex(p=>p.id==b);return console.log(`Index is : ${o}`),I[o].skin};return(o,p)=>{var y;return T(),R(X,null,[e("main",null,[u(H),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:C},[(y=x(n).user)!=null&&y.is_premium?(T(),R("img",{key:0,src:S(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:l,onMousedown:v,onTouchstart:v,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,Q)):(T(),R("img",{key:1,src:S(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:l,onMousedown:v,onTouchstart:v,onMouseup:d,onMouseleave:d,onTouchend:d},null,40,W))],512)]),u(K)],64)}}}),se=Y(ee,[["__scopeId","data-v-eedbf224"]]);export{se as default};
