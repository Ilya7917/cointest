import{j as st,u as m,k,d as ot,h as rt,l as nt,m as dt,g as it,c as s,a as e,t as r,b as n,p as _,F as b,q as L,o,_ as lt}from"./index-CRs3T-V9.js";const ct=st("leaderboard",{state:()=>({leaderboard:null,lastFetch:0,dailyLeaderboard:null,dailyLastFetch:0,monthlyLeaderboard:null,monthlyLastFetch:0}),actions:{async fetchLeaderboard(){const d=Date.now();if(!(d-this.lastFetch<60*1e3&&this.leaderboard))try{const t=m(),l=await k.get("https://taptaptap.testcoin.uk/leaderboard",{headers:{"x-api-key":t.getAccessToken}});this.leaderboard=l.data,this.lastFetch=d}catch(t){console.error("Error fetching data:",t)}},async fetchDailyLeaderboard(){const d=Date.now();if(!(d-this.dailyLastFetch<60*1e3&&this.dailyLeaderboard))try{const t=m(),l=await k.get("https://taptaptap.testcoin.uk/leaderboard/daily",{headers:{"x-api-key":t.getAccessToken}});this.dailyLeaderboard=l.data,this.dailyLastFetch=d}catch(t){console.error("Error fetching data:",t)}},async fetchMonthlyLeaderboard(){const d=Date.now();if(!(d-this.monthlyLastFetch<60*1e3&&this.monthlyLeaderboard))try{const t=m(),l=await k.get("https://taptaptap.testcoin.uk/leaderboard/monthly",{headers:{"x-api-key":t.getAccessToken}});this.monthlyLeaderboard=l.data,this.monthlyLastFetch=d}catch(t){console.error("Error fetching data:",t)}}}}),_t={class:"tabs"},ht={key:0,class:"leaderboard"},yt={class:"leaderboard-title"},pt={class:"leaderboard-list"},ut={key:0,class:"player you"},bt={class:"avatar"},mt=["src","alt"],vt={key:1,class:"initials"},kt={class:"player-info"},Lt={class:"name"},gt={class:"player-score"},ft={class:"rank"},St={class:"avatar"},$t=["src","alt"],Ct={key:1,class:"initials"},Ft={class:"player-info"},wt={key:0,class:"name"},Dt={key:1},Ut={class:"player-score"},Bt={key:1,class:"leaderboard"},Mt={class:"leaderboard-title"},Tt={class:"leaderboard-list"},At={key:0,class:"player you"},Et={class:"avatar"},Pt=["src","alt"],It={key:1,class:"initials"},Nt={class:"player-info"},Vt={class:"name"},jt={class:"player-score"},qt={class:"rank"},xt={class:"avatar"},zt=["src","alt"],Gt={key:1,class:"initials"},Ht={class:"player-info"},Jt={key:0,class:"name"},Kt={key:1},Ot={class:"player-score"},Qt={key:2,class:"leaderboard"},Rt={class:"leaderboard-title"},Wt={class:"leaderboard-list"},Xt={key:0,class:"player you"},Yt={class:"avatar"},Zt=["src","alt"],te={key:1,class:"initials"},ee={class:"player-info"},ae={class:"name"},se={class:"player-score"},oe={class:"rank"},re={class:"avatar"},ne=["src","alt"],de={key:1,class:"initials"},ie={class:"player-info"},le={key:0,class:"name"},ce={key:1},_e={class:"player-score"},he=ot({__name:"Leaderboard",setup(d){const t=ct(),y=m().user;rt(()=>{nt().showAlert(`User avatar: ${y==null?void 0:y.avatar_url}`),t.fetchDailyLeaderboard(),t.fetchMonthlyLeaderboard(),t.fetchLeaderboard()});const{t:p}=dt();p("top.yourPlace",{place:123});const u=it("Day"),v=i=>{u.value=i};return(i,c)=>{var g,f,S,$,C,F,w,D,U,B,M,T,A,E,P,I,N,V,j,q,x,z,G,H,J,K,O,Q,R,W,X,Y,Z,tt,et,at;return o(),s(b,null,[e("div",_t,[e("button",{onClick:c[0]||(c[0]=a=>v("Day")),class:"tab"},r(i.$t("top.day")),1),e("button",{onClick:c[1]||(c[1]=a=>v("Month")),class:"tab"},r(i.$t("top.month")),1),e("button",{onClick:c[2]||(c[2]=a=>v("Balance")),class:"tab"},r(i.$t("top.balance")),1)]),u.value==="Day"?(o(),s("div",ht,[e("div",yt," üèÜ "+r(i.$t("top.topToday")),1),e("div",pt,[((g=n(t).dailyLeaderboard)==null?void 0:g.me)!=null?(o(),s("div",ut,[e("span",bt,[(f=n(t).dailyLeaderboard)!=null&&f.me.avatar_url?(o(),s("img",{key:0,src:(S=n(t).dailyLeaderboard)==null?void 0:S.me.avatar_url,alt:($=n(t).dailyLeaderboard)==null?void 0:$.me.identity},null,8,mt)):(o(),s("div",vt,r((w=(F=(C=n(t).dailyLeaderboard)==null?void 0:C.me)==null?void 0:F.identity)==null?void 0:w.substring(0,2).toUpperCase()),1))]),e("div",kt,[e("span",Lt,r(n(p)("top.yourPlace",{place:(U=(D=n(t).dailyLeaderboard)==null?void 0:D.me)==null?void 0:U.position})),1),e("span",gt,"üçÜ +"+r((M=(B=n(t).dailyLeaderboard)==null?void 0:B.me)==null?void 0:M.score.toLocaleString()),1)])])):_("",!0),(o(!0),s(b,null,L((T=n(t).dailyLeaderboard)==null?void 0:T.players,(a,h)=>(o(),s("div",{key:a.id,class:"player"},[e("span",ft,r(h+1)+".",1),e("span",St,[a.avatar_url?(o(),s("img",{key:0,src:a.avatar_url,alt:a.identity},null,8,$t)):(o(),s("div",Ct,r(a.identity.substring(0,2).toUpperCase()),1))]),e("div",Ft,[a.is_premium?(o(),s("span",wt,r(a.identity),1)):(o(),s("span",Dt,r(a.identity),1)),e("span",Ut,"üçÜ +"+r(a.score.toLocaleString()),1)])]))),128))])])):_("",!0),u.value==="Month"?(o(),s("div",Bt,[e("div",Mt," üèÜ "+r(i.$t("top.topMonth")),1),e("div",Tt,[((A=n(t).monthlyLeaderboard)==null?void 0:A.me)!=null?(o(),s("div",At,[e("span",Et,[(E=n(t).monthlyLeaderboard)!=null&&E.me.avatar_url?(o(),s("img",{key:0,src:(P=n(t).monthlyLeaderboard)==null?void 0:P.me.avatar_url,alt:(I=n(t).monthlyLeaderboard)==null?void 0:I.me.identity},null,8,Pt)):(o(),s("div",It,r((j=(V=(N=n(t).monthlyLeaderboard)==null?void 0:N.me)==null?void 0:V.identity)==null?void 0:j.substring(0,2).toUpperCase()),1))]),e("div",Nt,[e("span",Vt,r(n(p)("top.yourPlace",{place:(x=(q=n(t).monthlyLeaderboard)==null?void 0:q.me)==null?void 0:x.position})),1),e("span",jt,"üçÜ +"+r((G=(z=n(t).monthlyLeaderboard)==null?void 0:z.me)==null?void 0:G.score.toLocaleString()),1)])])):_("",!0),(o(!0),s(b,null,L((H=n(t).monthlyLeaderboard)==null?void 0:H.players,(a,h)=>(o(),s("div",{key:a.id,class:"player"},[e("span",qt,r(h+1)+".",1),e("span",xt,[a.avatar_url?(o(),s("img",{key:0,src:a.avatar_url,alt:a.identity},null,8,zt)):(o(),s("div",Gt,r(a.identity.substring(0,2).toUpperCase()),1))]),e("div",Ht,[a.is_premium?(o(),s("span",Jt,r(a.identity),1)):(o(),s("span",Kt,r(a.identity),1)),e("span",Ot,"üçÜ +"+r(a.score.toLocaleString()),1)])]))),128))])])):_("",!0),u.value==="Balance"?(o(),s("div",Qt,[e("div",Rt," üèÜ "+r(i.$t("top.topBalance")),1),e("div",Wt,[((J=n(t).monthlyLeaderboard)==null?void 0:J.me)!=null?(o(),s("div",Xt,[e("span",Yt,[(O=(K=n(t).leaderboard)==null?void 0:K.me)!=null&&O.avatar_url?(o(),s("img",{key:0,src:(Q=n(t).leaderboard)==null?void 0:Q.me.avatar_url,alt:(R=n(t).leaderboard)==null?void 0:R.me.identity},null,8,Zt)):(o(),s("div",te,r((Y=(X=(W=n(t).leaderboard)==null?void 0:W.me)==null?void 0:X.identity)==null?void 0:Y.substring(0,2).toUpperCase()),1))]),e("div",ee,[e("span",ae,r(n(p)("top.yourPlace",{place:(tt=(Z=n(t).leaderboard)==null?void 0:Z.me)==null?void 0:tt.position})),1),e("span",se,"üçÜ "+r((et=n(y))==null?void 0:et.balance.toLocaleString()),1)])])):_("",!0),(o(!0),s(b,null,L((at=n(t).leaderboard)==null?void 0:at.players,(a,h)=>(o(),s("div",{key:a.id,class:"player"},[e("span",oe,r(h+1)+".",1),e("span",re,[a.avatar_url?(o(),s("img",{key:0,src:a.avatar_url,alt:a.identity},null,8,ne)):(o(),s("div",de,r(a.identity.substring(0,2).toUpperCase()),1))]),e("div",ie,[a.is_premium?(o(),s("span",le,r(a.identity),1)):(o(),s("span",ce,r(a.identity),1)),e("span",_e,"üçÜ "+r(a.score.toLocaleString()),1)])]))),128))])])):_("",!0)],64)}}}),pe=lt(he,[["__scopeId","data-v-b57559a3"]]);export{pe as default};
