import{B as L}from"./Balance-BnKu1lBz.js";import{d as z,u as N,r as v,o as X,a as P,b as $,c as T,e,f as r,w as p,n as U,g as R,t as c,F as Y,h as y,_ as j,i as V,Z as D}from"./index-B9FOimRS.js";import{s as I}from"./skinBase-CK22gNev.js";const H={class:"energy-section"},Z={class:"button-19"},O={class:"energy-progress-bar"},q={class:"energy-info"},A={class:"energy-value"},G={class:"bottom-menu"},J={class:"menu-items"},K=z({__name:"BottomMenu",setup(F){const n=N(),h=v(null),i=v(null),m=v(null),_=()=>{if(h.value&&i.value&&m.value){const s=h.value.getBoundingClientRect();i.value.style.bottom=`${window.innerHeight-s.top+20}px`,m.value.style.bottom=`${window.innerHeight-s.top+0}px`}};return X(async()=>{_()}),(s,S)=>{var w,x,C;const o=P("router-link");return $(),T(Y,null,[e("div",H,[e("div",{ref_key:"skinsRef",ref:i,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[r(o,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:p(()=>[y(" 🦆 "),e("span",null,c(s.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"townRef",ref:m,style:{left:"35%",position:"fixed",display:"flex",justifyContent:"space-between"}},[r(o,{class:"menu-item",style:{fontSize:"35px"},to:"/town",tag:"button"},{default:p(()=>[e("button",Z,[y("🏘️ "),e("span",null,c(s.$t("bottomMenu.town")),1)])]),_:1})],512),e("div",{ref_key:"energyRef",ref:h,class:"energy"},[e("div",O,[e("div",{class:"energy-progress",style:U({width:(((w=R(n).user)==null?void 0:w.energy)??0)/(1e3+(((x=R(n).user)==null?void 0:x.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",q,[e("span",A,"⚡"+c((C=R(n).user)==null?void 0:C.energy),1)])],512)]),e("div",G,[e("div",J,[r(o,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:p(()=>[y(" 🏆 "),e("span",null,c(s.$t("bottomMenu.top")),1)]),_:1}),r(o,{class:"menu-item",to:"/channels",tag:"button"},{default:p(()=>[y(" 📋 "),e("span",null,c(s.$t("bottomMenu.earn")),1)]),_:1}),r(o,{class:"menu-item",to:"/market",tag:"button"},{default:p(()=>[y(" 🛒 "),e("span",null,c(s.$t("bottomMenu.market")),1)]),_:1}),r(o,{class:"menu-item",to:"/slots",tag:"button"},{default:p(()=>[y(" 🎰 "),e("span",null,c(s.$t("slots.bottom")),1)]),_:1}),r(o,{class:"menu-item",to:"/posts",tag:"button"},{default:p(()=>[y(" 🌐 "),e("span",null,c(s.$t("bottomMenu.posts")),1)]),_:1}),r(o,{class:"menu-item",to:"/boosts",tag:"button"},{default:p(()=>[y(" 🚀 "),e("span",null,c(s.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),Q=j(K,[["__scopeId","data-v-96ff54db"]]),W=["src"],ee=["src"],te=z({__name:"Miner",setup(F){const n=N(),{getCurrentSkin:h}=n,i=v(null),m=v(0);let _;const s=()=>{console.log(`Кількість натискань: ${m.value}`),n.sendMineCoins(m.value),m.value=0},S=()=>{m.value+=1,_&&clearTimeout(_),_=setTimeout(s,300)};X(()=>{window.scrollTo(0,0)}),V(()=>{_&&clearTimeout(_)});const o=v(null),w=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,x=(l,d,f)=>{var b;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${d}px`,t.style.top=`${f}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=l.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const u=document.createElement("img");u.src=E(),u.style.width="35px",u.style.height="35px",u.style.marginLeft="50px",u.style.marginRight="8px",u.classList.add("flying-number"),t.appendChild(u),t.appendChild(a),(b=o.value)==null||b.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function C(l){return window.TouchEvent!==void 0?l instanceof TouchEvent:l.touches!==void 0}const M=l=>{var B;if(!n.user||!i.value||l.type==="mousedown"&&w())return;let d,f;if(C(l)){const k=l;d=k.touches[0].clientX,f=k.touches[0].clientY}else{const k=l;d=k.clientX,f=k.clientY}const t=(B=o.value)==null?void 0:B.getBoundingClientRect(),a=d-((t==null?void 0:t.left)??0),u=f-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var b=1;n.user.is_premium&&(b=2),x(n.user.mine_level*b,a,u),D().impactOccurred("light"),S()}i.value.style.transform="scale(0.98)"},g=()=>{i.value&&(i.value.style.transform="",i.value.style.transform="scale(1)")},E=()=>{let l=I.findIndex(d=>d.id==h);return console.log(`Index is : ${l}`),I[0].skin};return(l,d)=>{var f;return $(),T(Y,null,[e("main",null,[r(L),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:o},[(f=R(n).user)!=null&&f.is_premium?($(),T("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:i,onMousedown:M,onTouchstart:M,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,W)):($(),T("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:i,onMousedown:M,onTouchstart:M,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,ee))],512)]),r(Q)],64)}}}),le=j(te,[["__scopeId","data-v-96ae6370"]]);export{le as default};
