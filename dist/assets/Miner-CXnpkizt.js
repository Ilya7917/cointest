import{B as P}from"./Balance-Datv6XUU.js";import{d as N,u as X,r as v,o as Y,a as U,b as $,c as S,e,f as u,w as y,n as V,g as R,t as f,F as z,h as _,p as D,i as H,_ as F,j as Z,Z as O,s as j}from"./index-Bj_pOQ7G.js";const L=h=>(D("data-v-adeb4496"),h=h(),H(),h),q={class:"energy-section"},A=L(()=>e("span",null,"Доступный баланс на вывод: 0🍆",-1)),G=[A],J=L(()=>e("div",{style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},null,-1)),K={class:"energy-progress-bar"},Q={class:"energy-info"},W={class:"energy-value"},ee={class:"bottom-menu"},te={class:"menu-items"},ne=N({__name:"BottomMenu",setup(h){const n=X(),b=v(null),l=v(null),c=v(null),p=()=>{if(b.value&&l.value&&c.value){const o=b.value.getBoundingClientRect();l.value.style.bottom=`${window.innerHeight-o.top+20}px`,c.value.style.bottom=`${window.innerHeight-o.top+20}px`}};return Y(async()=>{p()}),(o,B)=>{var x,C,M;const i=U("router-link");return $(),S(z,null,[e("div",q,[e("div",{ref_key:"withdrawalBalanceRef",ref:c,style:{left:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},G,512),J,e("div",{ref_key:"skinsRef",ref:l,style:{right:"15px",position:"fixed",display:"flex",justifyContent:"space-between"}},[u(i,{class:"menu-item",style:{fontSize:"35px"},to:"/skins",tag:"button"},{default:y(()=>[_(" 🍆 "),e("span",null,f(o.$t("bottomMenu.skins")),1)]),_:1})],512),e("div",{ref_key:"energyRef",ref:b,class:"energy"},[e("div",K,[e("div",{class:"energy-progress",style:V({width:(((x=R(n).user)==null?void 0:x.energy)??0)/(1e3+(((C=R(n).user)==null?void 0:C.max_energy_level)??0)*500)*100+"%"})},null,4)]),e("div",Q,[e("span",W,"⚡"+f((M=R(n).user)==null?void 0:M.energy),1)])],512)]),e("div",ee,[e("div",te,[u(i,{class:"menu-item",to:"/leaderboard",tag:"button"},{default:y(()=>[_(" 🏆 "),e("span",null,f(o.$t("bottomMenu.top")),1)]),_:1}),u(i,{class:"menu-item",to:"/channels",tag:"button"},{default:y(()=>[_(" 💰 "),e("span",null,f(o.$t("bottomMenu.earn")),1)]),_:1}),u(i,{class:"menu-item",to:"/market",tag:"button"},{default:y(()=>[_(" 🛒 "),e("span",null,f(o.$t("bottomMenu.market")),1)]),_:1}),u(i,{class:"menu-item",to:"/slots",tag:"button"},{default:y(()=>[_(" 🎰 "),e("span",null,f(o.$t("slots.bottom")),1)]),_:1}),u(i,{class:"menu-item",to:"/posts",tag:"button"},{default:y(()=>[_(" 🌐 "),e("span",null,f(o.$t("bottomMenu.posts")),1)]),_:1}),u(i,{class:"menu-item",to:"/boosts",tag:"button"},{default:y(()=>[_(" 🚀 "),e("span",null,f(o.$t("bottomMenu.boosts")),1)]),_:1})])])],64)}}}),se=F(ne,[["__scopeId","data-v-adeb4496"]]),oe=["src"],le=["src"],ie=N({__name:"Miner",setup(h){const n=X(),{getCurrentSkin:b}=n,l=v(null),c=v(0);let p;const o=()=>{console.log(`Кількість натискань: ${c.value}`),n.sendMineCoins(c.value),c.value=0},B=()=>{c.value+=1,p&&clearTimeout(p),p=setTimeout(o,300)};Y(()=>{window.scrollTo(0,0)}),Z(()=>{p&&clearTimeout(p)});const i=v(null),x=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,C=(s,d,m)=>{var w;const t=document.createElement("div");t.style.position="absolute",t.style.left=`${d}px`,t.style.top=`${m}px`,t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.transform="translate(-50%, -50%)";const a=document.createElement("div");a.textContent=s.toString(),n.user&&n.user.is_premium?a.style.color="#ff9900":a.style.color="white",a.style.userSelect="none",a.style.pointerEvents="none",a.style.fontSize="40px",a.classList.add("flying-number");const r=document.createElement("img");r.src=E(),r.style.width="35px",r.style.height="35px",r.style.marginLeft="50px",r.style.marginRight="8px",r.classList.add("flying-number"),t.appendChild(r),t.appendChild(a),(w=i.value)==null||w.appendChild(t),setTimeout(()=>{t.remove()},1e3)};function M(s){return window.TouchEvent!==void 0?s instanceof TouchEvent:s.touches!==void 0}const T=s=>{var I;if(!n.user||!l.value||s.type==="mousedown"&&x())return;let d,m;if(M(s)){const k=s;d=k.touches[0].clientX,m=k.touches[0].clientY}else{const k=s;d=k.clientX,m=k.clientY}const t=(I=i.value)==null?void 0:I.getBoundingClientRect(),a=d-((t==null?void 0:t.left)??0),r=m-((t==null?void 0:t.top)??0);if(n.user.energy>n.user.mine_level){n.mineCoins();var w=1;n.user.is_premium&&(w=2),C(n.user.mine_level*w,a,r),O().impactOccurred("light"),B()}l.value.style.transform="scale(0.98)"},g=()=>{l.value&&(l.value.style.transform="",l.value.style.transform="scale(1)")},E=()=>{let s=j.findIndex(d=>d.id==b);return console.log(`Index is : ${s}`),j[s].skin};return(s,d)=>{var m;return $(),S(z,null,[e("main",null,[u(P),e("div",{class:"coin-container numbers-container",ref_key:"numbersContainerRef",ref:i},[(m=R(n).user)!=null&&m.is_premium?($(),S("img",{key:0,src:E(),alt:"Premium Coin",class:"coin",ref_key:"coinRef",ref:l,onMousedown:T,onTouchstart:T,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,oe)):($(),S("img",{key:1,src:E(),class:"coin",alt:"Regular Coin",ref_key:"coinRef",ref:l,onMousedown:T,onTouchstart:T,onMouseup:g,onMouseleave:g,onTouchend:g},null,40,le))],512)]),u(se)],64)}}}),ue=F(ie,[["__scopeId","data-v-eedbf224"]]);export{ue as default};
